[toc]

## 设计模式

### 单例模式(Singleton pattern)

```c++
//c++11后标准版，因为局部静态变量初始化变成了线程安全的
class Singleton {
  private:
    Singleton() = default;
    Singleton(const Singleton&) = delete;
    Singleton& operator=(const Singleton&) = delete;
  public:
    static Singleton& getInstance(){
        static Singleton value;
        return value;
    }
};
//懒汉式，注意内存泄漏(智能指针)和线程安全(双检查锁)
//饿汉式，注意类外static变量初始化和getInstance的顺序
```

### 状态模式(State pattern)

![状态模式](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/State_Design_Pattern_UML_Class_Diagram.svg/600px-State_Design_Pattern_UML_Class_Diagram.svg.png)

### 