## 音视频的基础知识

> [学习来源](https://blog.csdn.net/leixiaohua1020/article/details/18893769)

[音频基础](#音频基础)

[视频基础](#视频基础)

[播放器原理](#播放器原理)

### 音频基础

* 声音基础原理
  * 声音是纵波(上下波动)，由物体振动产生。
  * 声波的三要素：频率、振幅、波形。
  * 人耳的听力频率范围大约是20Hz~20kHz。
  * 发出声音，在传播过程中遇到障碍物反弹回来，中间时差超过80ms，将产生回声。
* 数字音频原理
  * 采样：根据采样定理，一般采用44.1kHz对原始声音进行采样，可保证人耳听到的声音质量不会降低。
  * 量化：量化是指在幅度轴上对信号进行数字化。
  * 编码：按照一定的格式记录采样和量化后的数字数据。通常音频裸数据的格式是PCM数据，描述PCM数据一般有以下几个概念：量化格式、采样率、声道数。

### 视频基础

* 图像的数值表示：RGB、YUV
* 相关概念
  * 视频是由一幅幅图像构成
  * 帧、帧数、帧率、帧率关键值
  * 刷新率
  * 分辨率
  * 码率/比特率

### 播放器原理

* 封装格式：把音频数据和视频数据打包成一个文件的规范。

* 音视频技术点：封装技术、视频压缩编码技术、音频压缩编码技术、流媒体协议技术。

* 视频播放器原理

  ```mermaid
  graph LR
  数据-->t1((解协议))-->封装格式数据-->s((解封装))
  s-->音频压缩数据-->t2((音频解码))-->音频原始数据-->d((音视频同步))
  s-->视频压缩数据-->t3((视频解码))-->视频原始数据-->d
  d-->音频驱动/设备
  d-->视频驱动/设备
  ```

  * 解协议：将流媒体协议的数据，解析为标准的相应的封装格式数据。播放本地文件不需要解协议。

  * 解封装：将封装格式的数据，分离成音频流压缩编码数据和视频流压缩编码数据。

  * 解码：将音视频压缩编码数据，解码成为非压缩的音视频原始数据。

  * 音视频同步：根据解封装模块处理过程中获得的参数信息，同步解码出音频和视频数据，并将音视频送至系统的声卡和显卡播放。

  * 点播是根据用户需要播放相应的视频节目，主流采用HTTP+H.264+AAC，封装格式的选择区别不大。直播是实时发送内容给用，主流采用RTMP+FLV+H.264+AAC。

    | 模块       | 常用                   |
    | ---------- | ---------------------- |
    | 流媒体协议 | RTMP、MMS、HTTP、RTSP  |
    | 封装格式   | FLV、AVI、MP4、TS、MKV |
    | 视频编码   | H.264、H.265、MPEG4    |
    | 音频编码   | AAC、MP3、AC-3、WMA    |
    | 像素数据   | YUV、RGB               |
    | 音频裸数据 | PCM                    |

  